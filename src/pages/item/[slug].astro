---
import { SITE } from "~/config.mjs";
import { fetchContentItems } from "~/utils/fetchItems";
import Layout from "~/layouts/PageLayout.astro";
import Picture from "~/components/core/Picture.astro";

export async function getStaticPaths() {
  const posts = await fetchContentItems();

  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}
const { post } = Astro.props;

const meta = {
  title: `Content Itemsâ€” ${SITE.name}`,
  description: SITE.description,
};
---

<Layout meta={meta}>
  <h1 class="text-2xl font-bold">{post.title}</h1>
  <h1 class="text-lg">{post.description}</h1>
  <hr class="my-4" />
  <h1 class="text-lg">{post.body}</h1>

  <Picture
    src={post.image}
    class="max-w-full h-full object-cover"
    widths={[400]}
    sizes="(max-width: 767px) 400px, 768px"
    alt={post.description}
    aspectRatio={1}
  />
</Layout>
